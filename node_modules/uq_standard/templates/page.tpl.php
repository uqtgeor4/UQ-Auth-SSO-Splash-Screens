<?php

/**
 * @file
 * Returns the HTML for a single Drupal page.
 *
 * Complete documentation for this file is available online.
 * @see https://drupal.org/node/1728148
 *
 * This is a "single region" page template, delegating responsibility for layout
 * to Panels layout plugins, node template files (where not panelized), and
 * custom page callbacks.
 *
 * Available variables provided by uq_standard:
 * - $title_hidden: NULL if not under Page Manager (Panels) control. Not
 *   NULL if controlled by Panels.
 * - $primary_tabs_hidden: NULL if not under Page Manager (Panels) control. Not
 *   NULL if controlled by Panels.
 * - $login_url: The path to the login page.
 * - $logged_in: TRUE if the user is registered and signed in.
 * - $login_link: Full url to the login page with destination set by current
 *   page.
 * - $is_front: TRUE if the current page is the front page.
 * - $is_admin: TRUE if the user has permission to access administration pages.
 *
 *   NOTE: The assumption here is that pages under
 *   Page Manager control will include things like $title and $tabs via
 *   Panels, wherever these elements should be included in the page.
 *   Primary Tabs are also hidden on the <front> page.
 */
?>
<?php if ($page['header']): ?>
  <?php print render($page['header']); ?>
<?php endif; ?>

<?php if ($page['navigation']): ?>
  <div class="navigation">
    <?php print render($page['navigation']); ?>
  </div>
<?php endif; ?>

<div class="page">
  <?php if ($messages): ?>
    <div class="page__messages">
      <?php print $messages; ?>
    </div>
  <?php endif; ?>

  <?php if ($page['top'] || (!empty($title) && !$title_hidden)): ?>
    <div class="page__header">
      <?php if ($page['top']): ?>
        <?php print render($page['top']); ?>
      <?php endif; ?>
      <?php if (!empty($title) && !$title_hidden): ?>
        <h1 class="page__title"><?php print $title; ?></h1>
      <?php endif; ?>
    </div>
  <?php endif ?>

  <?php if (($tabs && !$primary_tabs_hidden) || $page['help'] || $action_links): ?>
    <div class="page__administration">
      <?php print render($tabs); ?>
      <?php print render($page['help']); ?>
      <?php if ($action_links): ?>
        <ul class="action-links"><?php print render($action_links); ?></ul>
      <?php endif; ?>
    </div>
  <?php endif; ?>
  <a id="main-content"></a>
  <div class="page__content clearfix">
    <?php print render($page['content']); ?>
  </div>
  <?php if ($page['error_messages']): ?>
    <div class="page__error-messages">
      <?php print render($page['error_messages']); ?>
    </div>
  <?php endif; ?>
  <?php if ($page['bottom']): ?>
    <div class="page__footer">
      <?php print render($page['bottom']); ?>
    </div>
  <?php endif; ?>

</div>

<?php if ($page['footer']): ?>
  <?php print render($page['footer']); ?>
<?php endif; ?>
