<?php

/**
 * @file
 * Fieldable panel pane viewmode template for card component.
 */
?>
<div <?php print drupal_attributes($attributes_array); ?> class="<?php print implode(" ", $classes_array); ?> card">

  <div class="card__header"></div>

  <div class="card__body">

    <?php if ($image): ?>
      <?php if (!empty($content['field_uq_card_primary_link']['#items'][0]['display_url'])): ?>
        <a class="card__link" href="<?php print $content['field_uq_card_primary_link']['#items'][0]['display_url']; ?>">
      <?php endif; ?>
      <?php print '<div class="card__image-container" style="background-image: url(\'' . $image . '\')"></div>'; ?>
      <?php if (!empty($content['field_uq_card_primary_link']['#items'][0]['display_url'])): ?>
        </a>
      <?php endif; ?>
    <?php endif; ?>

    <div class="card__content">
      <div class="card__title">
        <?php if (!empty($content['field_uq_card_primary_link']['#items'][0]['display_url'])): ?>
          <a class="card__link" href="<?php print $content['field_uq_card_primary_link']['#items'][0]['display_url']; ?>">
        <?php endif; ?>
          <?php if (!empty($title)): ?>
            <?php print $title; ?>
          <?php endif; ?>
          <?php if (empty($title) && !empty($content['title']['#value'])): ?>
            <?php print $content['title']['#value']; ?>
          <?php endif; ?>
        <?php if (!empty($content['field_uq_card_primary_link']['#items'][0]['display_url'])): ?>
          </a>
        <?php endif; ?>
      </div>
      <div class="card__summary"><?php print $body; ?></div>
    </div>
  </div>

  <?php if ($footer): ?>
    <?php print '<div class="card__footer">' . $footer . '</div>'; ?>
  <?php endif; ?>

</div>
