// Compendium.

.compendium {
  margin-bottom: 1.5rem;
  position: relative;
  width: 100%;

  // Compendium content.
  &__content {
    margin-bottom: 1rem;

    // For equal height columns because Equaliser script is unable to trigger correctly on all state changes within the compendium.
    @media #{$medium-up} {
      display: flex;
    }

    @media #{$large-up} {
      padding: 0 1rem;
    }

    .row {
      border-top: 2px solid $compendium-border-color;
    }
  }

  &__column {
    background: #fff;
    transition: .2s ease all;

    @media #{$medium-up} {
      // Use to overwrite the important class assigned by Foundation visibility classes.
      display: block !important;
      padding: 0 1.5rem;
    }

    // First column.
    &-1,
    &-2 {
      @media #{$medium-up} {
        border-right: 1px solid $compendium-border-color;
      }
    }

    // Active column indicating it is open.
    &.is-active {
      @media #{$medium-up} {
        border-left: 1px solid $compendium-border-color;
        margin-left: -16%;
        position: relative;
        z-index: 100;
      }
    }

    &-title {
      border-bottom: 1px solid $compendium-title-border-color;
      clear: both;
      color: $uq-purple;
      font-size: $h3-font-size;
      margin: 1rem 1.5rem;
      padding-bottom: .7rem;
    }
  }

  &__menu {
    padding: 0;
  }

  &__item {
    list-style: none;
    margin: 0;
    position: relative;

    &:hover {
      background: lighten($link-color, 49%);
    }

    // Active menu link indicating it is selected.
    &.is-active {
      background: $link-color;
      color: #fff;

      &:hover {
        background: $link-color;
      }

      .compendium__link,
      .compendium__link-summary {
        color: #fff;
      }
    }

    &--has-children {
      &::after {
        @include uq-icon(angle-right);
        position: absolute;
        right: 1rem;
        top: 1.25rem;
      }
    }
  }

  &__link {
    color: $body-font-color;
    display: block;
    font-weight: 400;
    padding: 1rem 1.5rem;

    &:hover,
    &:focus {
      text-decoration: none;
    }

    .compendium__link-summary {
      clear: both;
      color: lighten($body-font-color, 25%);
      display: block;
      font-size: .875rem;
      font-weight: 300;
      line-height: 1.2;
      margin-right: 1rem;
    }
  }

  // Message advising admins there are no menu items in this section.
  &__empty-message {
    padding: 0 1.5rem;
  }

  &__back-link {
    clear: both;
    float: left;
    margin-left: .5rem;
    margin-bottom: 1rem;
  }
}
